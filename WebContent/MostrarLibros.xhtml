<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns=http://www.w3.org/1999/xhtml 
	  xmlns:f="http://java.sun.com/jsf/core" 
	  xmlns:h="http://java.sun.com/jsf/html">

<f:viewcontent type="text/html" />

<f:view>
<body>
	<h:form>
	
		<h:selectOneMenu id="combo"
			valueChangeListener="#{formularioLibroManagedBean.filtrar}"
			value="#{formularioLibroManagedBean.categoria}" onchange="submit()">

			<f:selectItemitem value="0" itemLabel="seleccionar" />
			<f:selectItems value="#{formularioLibroManagedBean.listaDeCategorias}" />
		</h:selectOneMenu>
		
	<h:dataTable id="tabla"
		value="#{formularioLibroManagedBean.listaDeLibros}"
		var="libro">
		
		<h:column>
			#{libro.isbn}
		</h:column>

		<h:column>
			#{libro.titulo}
		</h:column>
		
		<h:column>
			#{libro.categoria.descripcion}
		</h:column>
		
		<h:column>
			<h:commandLink value="borrar"
				actionListener="#{formularioLibroManagedBean.borrar}" >
				<f:attribute name="isbn" value="#{libro.isbn}" />
			</h:commandLink>
		</h:column>
		
		<h:column>
			<h:commandLink value="editar"
				actionListener="#{formularioLibroManagedBean.editar}"
				action="FormularioEditarLibro">
				<f:attribute name="isbn" value="#{libro.isbn}" />
			</h:commandLink>
		</h:column>
		
		</h:dataTable>
			<h:commandButton
				actionListener="#{formularioLibroManagedBean.formularioInsertar}"
				action="FormularioInsertarLibro" value="insertar"/>
	</h:form>
</body>
</f:view>
</html>
